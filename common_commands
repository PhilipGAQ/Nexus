以下命令需要先cd到Nexus目录中在执行。如1401，先cd /root/Nexus

训练:

单机单卡:
embedder:
CUDA_VISIBLE_DEVICES=4 python /root/Nexus/Nexus/training/embedder/recommendation/__main__.py
reranker:
CUDA_VISIBLE_DEVICES=3 python /root/Nexus/Nexus/training/reranker/recommendation/__main__.py

单机多卡:
embedder:
accelerate launch --config_file /root/Nexus/examples/recommendation/config/distributed_training/single_node.json /root/Nexus/Nexus/training/embedder/recommendation/__main__.py
reranker:
accelerate launch --config_file /root/Nexus/examples/recommendation/config/distributed_training/single_node.json /root/Nexus/Nexus/training/reranker/recommendation/__main__.py

多机多卡:
embedder:
step1 - 在1401机器上使用recstudio账号，在recstudio_industry环境下运行:
accelerate launch --config_file /root/Nexus/examples/recommendation/config/distributed_training/multi_nodes_rank0.json /root/Nexus/Nexus/training/embedder/recommendation/__main__.py
step2 - 在1400机器上使用recstudio账号，在py312环境下运行(也得cd到Nexus目录下，即/root/Nexus/Nexus):
accelerate launch --config_file /root/Nexus/examples/recommendation/config/distributed_training/multi_nodes_rank1.json /root/Nexus/Nexus/Nexus/training/embedder/recommendation/__main__.py

reranker:
step1 - 在1401机器上使用recstudio账号，在recstudio_industry环境下运行:
accelerate launch --config_file /root/Nexus/examples/recommendation/config/distributed_training/multi_nodes_rank0.json /root/Nexus/Nexus/training/reranker/recommendation/__main__.py
step2 - 在1400机器上使用recstudio账号，在py312环境下运行(也得cd到Nexus目录下，即/root/Nexus/Nexus):
accelerate launch --config_file /root/Nexus/examples/recommendation/config/distributed_training/multi_nodes_rank1.json /root/Nexus/Nexus/Nexus/training/reranker/recommendation/__main__.py
------------------------------------------------------

推理:
embedder:
python /root/Nexus/Nexus/inference/embedder/recommendation/__main__.py
reranker:
python /root/Nexus/Nexus/inference/reranker/recommendation/__main__.py

------------------------------------------------------

evaluation:
accelerate launch --config_file /root/Nexus/examples/recommendation/config/distributed_training/single_node.json /root/Nexus/Nexus/evaluation/recommendation/__main__.py
